<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <title>School Admin App Dev - Payments</title>
    <style>
      body {
          overflow: auto;
      }

      .modal-dialog {
        max-width: 90%; /* Adjust modal width */
        margin: auto;
      }

      .modal-content {
        overflow: visible; /* Ensure no scrollbars appear */
      }
    </style>
  </head>
  <body>
    <!-- top navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#sidebar"
          aria-controls="offcanvasExample"
        >
          <span class="navbar-toggler-icon" data-bs-target="#sidebar"></span>
        </button>
        <a
          class="navbar-brand me-auto ms-lg-0 ms-3 text-uppercase fw-bold"
          href="#"
          >SCHOOL NAME HERE</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#topNavBar"
          aria-controls="topNavBar"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="topNavBar">
          <form class="d-flex ms-auto my-3 my-lg-0">
            <div class="input-group">
              <input
                class="form-control"
                type="search"
                placeholder="Search"
                aria-label="Search"
              />
              <button class="btn btn-primary" type="submit">
                <i class="bi bi-search"></i>
              </button>
            </div>
          </form>
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle ms-2"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="bi bi-person-fill"></i>
              </a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li>
                  <a class="dropdown-item text-danger fw-bold" href="index.html">Log out</a>
                </li>
                <li><a class="dropdown-item" href="#">Another Action</a></li>
                <li></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- top navigation bar end -->
    <!-- offcanvas -->
    <div
        class="offcanvas offcanvas-start sidebar-nav bg-dark"
        tabindex="-1"
        id="sidebar"
    >
        <div class="offcanvas-body p-0">
            <nav class="navbar-dark">
                <ul class="navbar-nav navbar-brand">
                    <li>
                        <div class="text-muted small fw-bold text-uppercase px-3">
                        EXPLORE
                        </div>
                    </li>
                    
                    <li class="my-1"><hr class="dropdown-divider bg-light" /></li>
                    
                    <li>
                        <a href="dashboard.html" class="nav-link px-3 fw-bold">
                        <span class="me-2"><i class="bi bi-speedometer2"></i></span>
                        <span>DASHBOARD</span>
                        </a>
                    </li>
                    
                    <li class="my-1"><hr class="dropdown-divider bg-light" /></li>
                    
                    <li>
                        <a href="students-data.html" class="nav-link px-3 fw-bold">
                        <span class="me-2"><i class="bi bi-person-vcard-fill"></i></span>
                        <span>STUDENTS DATA</span>
                        </a>
                    </li>
                    
                    <li class="my-1"><hr class="dropdown-divider bg-light" /></li>
                    
                    <li>
                        <a href="payments.html" class="nav-link px-3 fw-bold active">
                        <span class="me-2"><i class="bi bi-bank"></i></span>
                        <span>PAYMENTS</span>
                        </a>
                    </li>
                    
                    <li class="my-1"><hr class="dropdown-divider bg-light" /></li>
                    
                    <li>
                        <a href="accounting.html" class="nav-link px-3 fw-bold">
                        <span class="me-2"><i class="bi bi-calculator-fill"></i></span>
                        <span>ACCOUNTING</span>
                        </a>
                    </li>
                    
                    <li class="my-1"><hr class="dropdown-divider bg-light" /></li>
                    
                    <li>
                        <a href="report.html" class="nav-link px-3 fw-bold">
                        <span class="me-2"><i class="bi bi-pencil square"></i></span>
                        <span>REPORT</span>
                        </a>
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>
    <!-- offcanvas end -->
    <!-- Main content -->
    <main
        class="d-flex justify-content-center align-items-center"
        style="
            min-height: 100vh;
            background-image: url('/images/four\ Indian\ rupee\ banknotes.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        "
        >
        <div class="card shadow p-5" style="width: 70%; max-width: 900px;">
            <h3 class="text-center text-primary fw-bold mb-4">View Payment</h3>
            <hr />
            <!-- Day Payment Section -->
<h5 class="text-primary fw-bold">Day Payment</h5>
<div class="row mb-3">
  <label for="dayPaymentDate" class="col-sm-4 col-form-label">Date</label>
  <div class="col-sm-8">
      <input type="date" class="form-control" id="dayPaymentDate" required>
  </div>
  <div class="row mt-3 justify-content-end">
      <!-- Button to trigger modal -->
      <button class="btn btn-primary w-auto" id="dayPaymentButton">
          Process
      </button>
  </div>
</div>

<hr />

<!-- Modal for Day Payment Report -->
<div class="modal fade" id="dayPaymentModal" tabindex="-1" aria-labelledby="dayPaymentModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title fw-bold" id="dayPaymentModalLabel">Day Payment Report</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Header Buttons -->
                <div class="d-flex justify-content-between mb-3">
                    <button class="btn btn-primary" onclick="window.print()">Print</button>
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
                <!-- Report Table -->
                <table class="table table-bordered table-striped">
                    <thead class="table-dark">
                        <tr>
                            <th>Student Name</th>
                            <th>Class</th>
                            <th>Fee</th>
                            <th>Amount Expected</th>
                            <th>Paid</th>
                            <th>Balance</th>
                            <th>Bank</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>OLUWASHINA...</td>
                            <td>BASIC7 A</td>
                            <td>School Fees</td>
                            <td>10000.00</td>
                            <td>3000.00</td>
                            <td>7000.00</td>
                            <td>nill</td>
                        </tr>
                        <tr>
                            <td>OLADUNJOY...</td>
                            <td>BASIC7 A</td>
                            <td>School Fees</td>
                            <td>10000.00</td>
                            <td>4500.00</td>
                            <td>5500.00</td>
                            <td>nill</td>
                        </tr>
                        <tr>
                            <td>OJO ANUOLU...</td>
                            <td>BASIC7 A</td>
                            <td>School Fees</td>
                            <td>10000.00</td>
                            <td>2500.00</td>
                            <td>7500.00</td>
                            <td>nill</td>
                        </tr>
                    </tbody>
                </table>
                <!-- Footer -->
                <p class="text-end fw-bold">Total payment: <span>10000</span></p>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('dayPaymentButton').addEventListener('click', function () {
        const dateInput = document.getElementById('dayPaymentDate');
        if (!dateInput.value) {
            alert('Please select a date before proceeding.');
        } else {
            // Trigger modal programmatically
            const dayPaymentModal = new bootstrap.Modal(document.getElementById('dayPaymentModal'));
            dayPaymentModal.show();
        }
    });
</script>


<!-- Term Payment -->
<h5 class="text-primary fw-bold">Term Payment</h5>
<div class="row mb-3">
    <label for="studentName" class="col-sm-4 col-form-label">Student Name</label>
    <div class="col-sm-8">
        <input type="text" class="form-control" id="studentName" required>
    </div>
</div>
<div class="row mb-3">
    <label for="paymentType" class="col-sm-4 col-form-label">Payment</label>
    <div class="col-sm-8">
        <select class="form-select" id="paymentType">
            <option value="all">All</option>
            <option value="term">Term</option>
        </select>
    </div>
</div>
<div class="row mb-3">
    <label for="sessionTerm" class="col-sm-4 col-form-label">Session</label>
    <div class="col-sm-6">
        <select class="form-select" id="sessionTerm" required>
            <option value="">Select Session</option>
            <option>01/2023/2024</option>
            <option>02/2023/2024</option>
        </select>
    </div>
    <div class="row mt-3 justify-content-end">
        <button class="btn btn-primary w-auto" id="termPaymentButton">Process</button>
    </div>
</div>
<hr />

<!-- Modal for Term Payment Report -->
<div class="modal fade" id="termPaymentModal" tabindex="-1" aria-labelledby="termPaymentModalLabel" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title fw-bold" id="termPaymentModalLabel">
                    Report of Payments by <span id="selectedStudent">[Student Name]</span> this term (<span id="currentTerm">[Term]</span>)
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Header Buttons -->
                <div class="d-flex justify-content-between mb-3">
                    <button class="btn btn-primary" onclick="window.print()">Print</button>
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
                <!-- Report Table -->
                <table class="table table-bordered table-striped">
                    <thead class="table-dark">
                        <tr>
                            <th>Name</th>
                            <th>Class</th>
                            <th>Fee</th>
                            <th>Date</th>
                            <th>Total_Fee</th>
                            <th>Paid</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td id="modalStudentName">[Student Name]</td>
                            <td>BASIC7 A</td>
                            <td>School Fees</td>
                            <td>19/12/2024</td>
                            <td>10000.00</td>
                            <td>3000.00</td>
                        </tr>
                    </tbody>
                </table>
                <!-- Footer -->
                <div class="d-flex justify-content-between fw-bold">
                    <p>Total payment: <span>3000</span></p>
                    <p>Balance: <span>7000</span></p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('termPaymentButton').addEventListener('click', function () {
        const studentName = document.getElementById('studentName').value.trim();
        const sessionTerm = document.getElementById('sessionTerm').value;

        if (!studentName) {
            alert('Please enter a student name before proceeding.');
        } else if (!sessionTerm) {
            alert('Please select a session before proceeding.');
        } else {
            // Update modal content dynamically
            document.getElementById('selectedStudent').textContent = studentName;
            document.getElementById('currentTerm').textContent = sessionTerm;
            document.getElementById('modalStudentName').textContent = studentName;

            // Trigger modal programmatically
            const termPaymentModal = new bootstrap.Modal(document.getElementById('termPaymentModal'));
            termPaymentModal.show();
        }
    });
</script>
    
        <script>
            document.addEventListener("DOMContentLoaded", () => {
              // Get references to elements
              const studentNameInput = document.getElementById("studentName");
              const sessionTermSelect = document.getElementById("sessionTerm");
              const modalStudentName = document.getElementById("selectedStudent");
              const modalCurrentTerm = document.getElementById("currentTerm");
          
              // Get the process button and attach an event listener
              const processButton = document.querySelector("[data-bs-target='#termPaymentModal']");
          
              processButton.addEventListener("click", () => {
                // Update modal header with user inputs
                const studentName = studentNameInput.value.trim() || "[Student Name]";
                const currentTerm = sessionTermSelect.value || "[Term]";
          
                modalStudentName.textContent = studentName;
                modalCurrentTerm.textContent = currentTerm;
              });
            });
          </script>
          

       <!-- Class Payment -->
<h5 class="text-primary fw-bold">Class Payment</h5>
<div class="row mb-3">
  <label for="classType" class="col-sm-4 col-form-label">Class</label>
  <div class="col-sm-8">
    <select class="form-select" id="classType" required>
      <option value="">Select Class</option>
      <option value="Basic 1A">Basic 1A</option>
      <option value="Basic 2A">Basic 2A</option>
      <option value="Basic 3A">Basic 3A</option>
      <option value="Basic 3B">Basic 3B</option>
      <option value="Basic 4A">Basic 4A</option>
      <option value="Basic 7A">Basic 7A</option>
      <option value="Basic 8A">Basic 8A</option>
      <option value="Basic 9A">Basic 9A</option>
      <option value="KG 1A">KG 1A</option>
      <option value="KG 2A">KG 2A</option>
      <option value="Nursery 1A">Nursery 1A</option>
    </select>
  </div>
</div>
<div class="row mb-3">
  <label for="sessionClass" class="col-sm-4 col-form-label">Session</label>
  <div class="col-sm-6">
    <select class="form-select" id="sessionClass" required>
      <option value="">Select Session</option>
      <option value="01/2023/2024">01/2023/2024</option>
      <option value="02/2023/2024">02/2023/2024</option>
    </select>
  </div>
  <div class="row mt-3 justify-content-end">
    <button class="btn btn-primary w-auto" id="processButton">Process</button>
  </div>
</div>

<!-- Modal for Class Payment Report -->
<div class="modal fade" id="classPaymentModal" tabindex="-1" aria-labelledby="classPaymentModalLabel" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title fw-bold" id="classPaymentModalLabel"><span id="classTypeDisplay">[Class Type]</span> payments for the session (<span id="currentSession">[Session]</span>)</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Header Buttons -->
        <div class="d-flex justify-content-between mb-3">
          <button class="btn btn-primary" onclick="window.print()">Print</button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
        </div>
        <!-- Report Table -->
        <table class="table table-bordered table-striped">
          <thead class="table-dark">
            <tr>
              <th>Name</th>
              <th>Amount Expected</th>
              <th>Amount Paid</th>
              <th>Balance</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>OLUWASHINA J...</td>
              <td>10000.00</td>
              <td>3000.00</td>
              <td>7000.00</td>
            </tr>
            <tr>
              <td>OLADUNJOYE A...</td>
              <td>15000.00</td>
              <td>7000.00</td>
              <td>8000.00</td>
            </tr>
            <tr>
                <td>OLUWASHINA J...</td>
                <td>10000.00</td>
                <td>3000.00</td>
                <td>7000.00</td>
                </tr>
        </table>
        <!-- Footer -->
        <div class="d-flex justify-content-between fw-bold">
          <p>Total amount: <span>60000</span></p>
          <p>Total payment: <span>10000</span></p>
          <p>Balance: <span>50000</span></p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Get references to elements
    const classTypeSelect = document.getElementById("classType");
    const sessionClassSelect = document.getElementById("sessionClass");
    const modalClassType = document.querySelector("#classPaymentModalLabel span#classTypeDisplay");
    const modalCurrentSession = document.querySelector("#classPaymentModalLabel span#currentSession");

    const processButton = document.getElementById("processButton");

    // Validate inputs before opening the modal
    processButton.addEventListener("click", (event) => {
      const selectedClass = classTypeSelect.value;
      const selectedSession = sessionClassSelect.value;

      if (!selectedClass || !selectedSession) {
        alert("Please select both Class and Session before proceeding.");
        event.preventDefault(); // Prevent modal from opening
        return;
      }

      // Update modal header with user inputs
      modalClassType.textContent = selectedClass;
      modalCurrentSession.textContent = selectedSession;

      // Trigger modal manually (in case validation passes)
      const modal = new bootstrap.Modal(document.getElementById("classPaymentModal"));
      modal.show();
    });
  });
</script>

          
    </main>

    <script src="./js/bootstrap.bundle.min.js"></script>
    </body>
</html>
